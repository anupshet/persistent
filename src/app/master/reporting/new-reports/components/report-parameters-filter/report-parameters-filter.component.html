<!-- Â© 2023 Bio-Rad Laboratories, Inc. All Rights Reserved. -->
<div class="filter-one-component">
  <div class="top mb-10">
    <h2 class="mb-0">
      {{'FILTERONE.REPORTPARAMETERS' | translate}}
    </h2>
    <div class="btn-reset ml-15" (click)="reset()">
      <mat-icon [svgIcon]="icons.replay[24].name"></mat-icon>
      <span class="ml-5">{{'FILTERONE.RESET' | translate}}</span>
    </div>
  </div>

  <form [formGroup]="newReportsForm">
    <div class="selection-parameter">
      <mat-form-field class="mat-form-field-report-type">
        <mat-label>{{'FILTERONE.REPORTTYPE' | translate}} *</mat-label>
        <mat-select #matReportType formControlName="reportType" multiple [disableOptionCentering]="true"
          (selectionChange)="reportsOnSelection()" panelClass="mat-select-multiple-dropdown-aligment"
          [(value)]="recentlySelectedTypes" [disabled]="isSearchEnabled">
          <div (mouseleave)="matReportType.close()">
            <mat-option [value]="reportList[0].reportType" (click)="toggleAllSelection()">
              {{ getReportTypes(reportList[0].key) }}
            </mat-option>
            <div *ngFor="let report of reportList">
              <mat-option *ngIf="report.key>0" [value]="report.reportType">
                {{ getReportTypes(report.key) }}
              </mat-option>
            </div>
          </div>
        </mat-select>
        <mat-hint class="br-text-warn" *ngIf="hasError">{{ errorMessage }}</mat-hint>
      </mat-form-field>
      <mat-form-field class="mat-form-field-date">
        <input matInput readonly [matDatepicker]="picker" [disabled]="isSearchEnabled"
          placeholder="{{'FILTERONE.CHOOSEMONTH' | translate}}" [max]="maxDate" [formControl]="date" />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker startView="year" (monthSelected)="chosenMonthHandler($event, picker)"
          panelClass="hide-years-btn">
        </mat-datepicker>
      </mat-form-field>
      <!-- uncomment for next Deta release -->
      <!-- <unext-report-templates #reportTemplate [(recentlySelectedTypes)]="recentlySelectedTypes"
        [sendTemplateDetails] ="sendTemplateDetails" [isSearchEnabled] = "isSearchEnabled"
        [(allSelected)]="allSelected" (isClearSelection)="clearSelection($event)" [(labConfigData)]="labConfigData"
        (emitlabConfigData)="callNgOnChanges()" (templateLoaded)="setTemplateValue($event)"
         (setReportType)="setReportType($event)" (setReportDate)="setReportDate($event)"></unext-report-templates> -->
      <!-- uncomment for next Deta release -->

      <div class="btns-reporting">
        <div class="selection-msg" *ngIf="recentlySelectedTypes && recentlySelectedTypes.length === 0">
          {{ 'FILTERONE.SELECTREPORTTYPE'| translate}}
        </div>
        <div class="selection-msg" *ngIf="!disableCreateBtn() && !showCreateButton">
          {{ 'FILTERONE.SELECTLABSETUP'| translate}}
        </div>

        <button mat-stroked-button class="btn-cancel" (click)="onCancel()">
          {{'CONTROLONE.CANCEL' | translate}}
        </button>

        <button mat-raised-button color="primary" class="btn-create" (click)="onCreateReport()"
          [disabled]="disableCreateBtn() || !showCreateButton">
          {{'CONTROLONE.CREATE' | translate}}
        </button>

      </div>
    </div>
  </form>
</div>